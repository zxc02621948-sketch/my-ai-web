[1mdiff --git a/app/api/player/pin/route.js b/app/api/player/pin/route.js[m
[1mindex 19538a8..54d3c69 100644[m
[1m--- a/app/api/player/pin/route.js[m
[1m+++ b/app/api/player/pin/route.js[m
[36m@@ -26,6 +26,19 @@[m [mexport async function POST(request) {[m
       return NextResponse.json({ error: 'ç”¨æˆ¶ä¸å­˜åœ¨' }, { status: 404 });[m
     }[m
 [m
[32m+[m[32m    // âœ… ç²å–è¢«é‡˜é¸ç”¨æˆ¶çš„æ’­æ”¾å™¨è¨­å®š[m
[32m+[m[32m    const targetUser = await User.findById(targetUserId).select('activePlayerSkin playerSkinSettings premiumPlayerSkin');[m
[32m+[m[32m    const targetPlayerSkin = targetUser?.activePlayerSkin || 'default';[m
[32m+[m[32m    const targetPlayerSettings = targetUser?.playerSkinSettings || {[m
[32m+[m[32m      mode: 'rgb',[m
[32m+[m[32m      speed: 0.02,[m
[32m+[m[32m      saturation: 50,[m
[32m+[m[32m      lightness: 60,[m
[32m+[m[32m      hue: 0,[m
[32m+[m[32m      opacity: 0.7[m
[32m+[m[32m    };[m
[32m+[m[32m    const targetHasPremiumSkin = !!targetUser?.premiumPlayerSkin;[m
[32m+[m
            // æª¢æŸ¥æ˜¯å¦æœ‰é‡˜é¸è¨‚é–±ï¼ˆåŒ…å«è©¦ç”¨å’Œæ­£å¼è¨‚é–±ï¼‰[m
            const pinSubscription = user.subscriptions?.find([m
              s => (s.type === 'pinPlayer' || s.type === 'pinPlayerTest') && s.isActive[m
[36m@@ -65,7 +78,10 @@[m [mexport async function POST(request) {[m
       expiresAt: expiresAt,[m
       currentIndex: 0,[m
       currentTime: 0,[m
[31m-      isPlaying: true[m
[32m+[m[32m      isPlaying: true,[m
[32m+[m[32m      activePlayerSkin: targetPlayerSkin,[m
[32m+[m[32m      playerSkinSettings: targetPlayerSettings,[m
[32m+[m[32m      premiumPlayerSkin: targetHasPremiumSkin[m
     };[m
 [m
     console.log('ğŸ“Œ æº–å‚™é‡˜é¸æ’­æ”¾å™¨:', {[m
[36m@@ -91,7 +107,10 @@[m [mexport async function POST(request) {[m
       expiresAt: expiresAt,[m
       currentIndex: 0,[m
       currentTime: 0,[m
[31m-      isPlaying: true[m
[32m+[m[32m      isPlaying: true,[m
[32m+[m[32m      activePlayerSkin: targetPlayerSkin,[m
[32m+[m[32m      playerSkinSettings: targetPlayerSettings,[m
[32m+[m[32m      premiumPlayerSkin: targetHasPremiumSkin[m
     };[m
 [m
     // ä½¿ç”¨ MongoDB åŸç”Ÿ collection ç›´æ¥æ›´æ–°[m
[1mdiff --git a/app/user/[id]/player/page.jsx b/app/user/[id]/player/page.jsx[m
[1mindex 5f08be2..9488469 100644[m
[1m--- a/app/user/[id]/player/page.jsx[m
[1m+++ b/app/user/[id]/player/page.jsx[m
[36m@@ -404,7 +404,7 @@[m [mexport default function UserPlayerPage() {[m
 [m
               {/* ä¸»è¦–è¦ºï¼šæ ¹æ“šé€ å‹åˆ‡æ›é¡¯ç¤º */}[m
               <div className="flex justify-center mb-16 mt-12">[m
[31m-                {currentUser?.activePlayerSkin === 'cat-headphone' ? ([m
[32m+[m[32m                {userData?.activePlayerSkin === 'cat-headphone' ? ([m
                   // è²“å’ªè€³æ©Ÿé€ å‹é è¦½[m
                   <div[m
                     className="drop-shadow-2xl relative"[m
[36m@@ -414,7 +414,7 @@[m [mexport default function UserPlayerPage() {[m
                     <CatHeadphoneCanvas [m
                       isPlaying={player.isPlaying} [m
                       size={200} [m
[31m-                      colorSettings={currentUser?.playerSkinSettings || {[m
[32m+[m[32m                      colorSettings={userData?.playerSkinSettings || {[m
                         mode: 'rgb',[m
                         speed: 0.02,[m
                         saturation: 50,[m
[1mdiff --git a/components/common/MiniPlayer.jsx b/components/common/MiniPlayer.jsx[m
[1mindex 97db214..a44a4ed 100644[m
[1m--- a/components/common/MiniPlayer.jsx[m
[1m+++ b/components/common/MiniPlayer.jsx[m
[36m@@ -38,6 +38,15 @@[m [mexport default function MiniPlayer() {[m
   [m
   // ç•¶å‰å•Ÿç”¨çš„é€ å‹[m
   const activePlayerSkin = useMemo(() => {[m
[32m+[m[32m    // âœ… å¦‚æœæœ‰é‡˜é¸æ’­æ”¾å™¨ï¼Œä½¿ç”¨è¢«é‡˜é¸ç”¨æˆ¶çš„é€ å‹[m
[32m+[m[32m    if (isPinned && pinnedPlayerData) {[m
[32m+[m[32m      if (!pinnedPlayerData.premiumPlayerSkin) {[m
[32m+[m[32m        return 'default';[m
[32m+[m[32m      }[m
[32m+[m[32m      return pinnedPlayerData.activePlayerSkin || 'default';[m
[32m+[m[32m    }[m
[32m+[m[41m    [m
[32m+[m[32m    // å¦å‰‡ä½¿ç”¨ç•¶å‰ç”¨æˆ¶çš„é€ å‹[m
     if (!currentUser) return 'default';[m
     [m
     // å¦‚æœæ²’æœ‰è³¼è²·é«˜éšé€ å‹ï¼Œå¼·åˆ¶ä½¿ç”¨é è¨­é€ å‹[m
[36m@@ -55,7 +64,7 @@[m [mexport default function MiniPlayer() {[m
     [m
     // è¿”å›ç”¨æˆ¶é¸æ“‡çš„é€ å‹ï¼ˆé è¨­ç‚º 'default'ï¼‰[m
     return currentUser.activePlayerSkin || 'default';[m
[31m-  }, [currentUser]);[m
[32m+[m[32m  }, [currentUser, isPinned, pinnedPlayerData]);[m
   [m
   // é¡è‰²è¨­å®šç‹€æ…‹ï¼ˆå„ªå…ˆä½¿ç”¨æ•¸æ“šåº«è¨­å®šï¼Œå¦å‰‡ä½¿ç”¨é è¨­å€¼ï¼‰[m
   const [colorSettings, setColorSettings] = useState(() => {[m
[36m@@ -72,12 +81,19 @@[m [mexport default function MiniPlayer() {[m
     };[m
   });[m
   [m
[31m-  // ç•¶ currentUser æ›´æ–°æ™‚ï¼ŒåŒæ­¥é¡è‰²è¨­å®š[m
[32m+[m[32m  // ç•¶ currentUser æˆ– pinnedPlayerData æ›´æ–°æ™‚ï¼ŒåŒæ­¥é¡è‰²è¨­å®š[m
   useEffect(() => {[m
[32m+[m[32m    // âœ… å¦‚æœæœ‰é‡˜é¸æ’­æ”¾å™¨ï¼Œä½¿ç”¨è¢«é‡˜é¸ç”¨æˆ¶çš„è¨­å®š[m
[32m+[m[32m    if (isPinned && pinnedPlayerData?.playerSkinSettings) {[m
[32m+[m[32m      setColorSettings(pinnedPlayerData.playerSkinSettings);[m
[32m+[m[32m      return;[m
[32m+[m[32m    }[m
[32m+[m[41m    [m
[32m+[m[32m    // å¦å‰‡ä½¿ç”¨ç•¶å‰ç”¨æˆ¶çš„è¨­å®š[m
     if (currentUser?.playerSkinSettings) {[m
       setColorSettings(currentUser.playerSkinSettings);[m
     }[m
[31m-  }, [currentUser]);[m
[32m+[m[32m  }, [currentUser, isPinned, pinnedPlayerData]);[m
   [m
   // æ›´æ–° playerRef[m
   useEffect(() => {[m
[36m@@ -113,9 +129,9 @@[m [mexport default function MiniPlayer() {[m
   [m
   // é¡¯ç¤ºé‚è¼¯ï¼š[m
   // 1. currentUser è¼‰å…¥ä¸­ (undefined) â†’ ä¸é¡¯ç¤ºï¼ˆé¿å…é–ƒçˆï¼‰[m
[31m-  // 2. å¦‚æœé‡˜é¸äº† â†’ å…¨ç«™é¡¯ç¤ºï¼ˆä½†ä»éœ€è¦æœ‰æ’­æ”¾å™¨åŠŸèƒ½ï¼‰[m
[32m+[m[32m  // 2. å¦‚æœé‡˜é¸äº† â†’ å…¨ç«™é¡¯ç¤ºï¼ˆä¸éœ€è¦è‡ªå·±æœ‰æ’­æ”¾å™¨åŠŸèƒ½ï¼‰âœ…[m
   // 3. å¦‚æœæ²’é‡˜é¸ â†’ åªåœ¨ç”¨æˆ¶é é¢ AND player.miniPlayerEnabled AND æœ‰æ’­æ”¾å™¨åŠŸèƒ½æ™‚é¡¯ç¤º[m
[31m-  const showMini = currentUser !== undefined && hasPlayerFeature && (isPinned || (isUserPage && player?.miniPlayerEnabled));[m
[32m+[m[32m  const showMini = currentUser !== undefined && (isPinned || (hasPlayerFeature && isUserPage && player?.miniPlayerEnabled));[m
   [m
   // ç¢ºä¿æ‰€æœ‰å€¼éƒ½æ˜¯æœ‰æ•ˆæ•¸å­—å¾Œæ‰è¨ˆç®—é€²åº¦[m
   const currentTime = typeof player?.currentTime === 'number' && isFinite(player.currentTime) ? player.currentTime : 0;[m
