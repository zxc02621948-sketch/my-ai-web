# 留言系統規劃

> **更新日期：** 2025-10-21

---

## 📊 **當前狀態**

| 功能 | 圖片 | 影片 | 狀態 |
|------|------|------|------|
| 留言功能 | ✅ | ❌ | 圖片有，影片沒有 |
| 留言計數 | ❌ | ❌ | 都沒有追蹤 |
| 影響熱門度 | ❌ | ❌ | 都不影響 popScore |

---

## 🤔 **留言是否應該影響熱門度？**

### **不應該影響的理由（✅ 當前設計）：**

1. **留言 ≠ 喜歡**
   - 留言可能是批評、提問、討論
   - 不代表「喜歡」或「認可」
   - 點讚才是明確的正向反饋

2. **避免刷留言**
   - 如果留言影響分數 → 可能出現無意義留言
   - 例如：「好看」「讚」「+1」等灌水
   - 降低留言區質量

3. **留言的價值在於討論**
   - 留言區是**交流空間**，不是**投票機制**
   - 高質量的討論比留言數量更重要
   - 熱門度應該由點讚決定

4. **參考其他平台**
   - YouTube：留言數不影響推薦算法
   - Instagram：留言數不計入排序
   - Reddit：有 upvote/downvote，但留言數不直接影響

---

### **如果要影響的話（替代方案）：**

可以設計一個**討論度指標**（Discussion Score），與熱門度分開：

```javascript
discussionScore = 
  (commentsCount × 2.0) +      // 留言數
  (repliesCount × 1.0) +       // 回覆數
  (commentLikesCount × 0.5)    // 留言點讚數（如果有）

// 在特定頁面使用「討論度」排序
// 例如：「熱門討論」標籤
```

但這會增加系統複雜度，目前可能不需要。

---

## 🎯 **影片留言系統規劃**

### **是否需要為影片添加留言？**

#### **✅ 需要的理由：**
1. 用戶可能想討論影片內容
2. 詢問生成參數或技巧
3. 分享觀看心得
4. 與圖片功能對齊

#### **❌ 不需要的理由：**
1. 影片主要是「消費型」內容
2. 討論價值較低（多數是平台生成）
3. 技術討論主要在圖片區
4. 簡化系統，降低開發成本

---

### **我的建議：**

#### **階段 1（當前）：**
- ✅ 影片不提供留言功能
- ✅ 專注於點讚和分享
- ✅ 保持系統簡單

#### **階段 2（未來，如果需要）：**
- 添加簡化版留言（只有一層，無回覆）
- 留言不影響熱門度
- 留言區可以用於：
  - 詢問影片來源
  - 分享相關影片
  - 簡單的感想

#### **階段 3（如果討論需求高）：**
- 添加完整留言系統（支援回覆）
- 創建「討論度」排序選項
- 分離「熱門」和「熱門討論」

---

## 📊 **當前的互動數據對照**

### **圖片：**
```
追蹤的數據：
✅ clicks（點擊）      → 影響 popScore（+1）
✅ likes（點讚）       → 影響 popScore（+8）
✅ comments（留言）    → 不影響 popScore
✅ completeness        → 影響 popScore（+0.05）
```

### **影片：**
```
追蹤的數據：
✅ clicks（點擊）      → 影響 popScore（+1）
✅ likes（點讚）       → 影響 popScore（+8）
❌ comments（留言）    → 不存在
✅ views（觀看）       → 欄位存在但未追蹤
✅ completeness        → 影響 popScore（+0.05）
```

---

## 🎯 **建議的優先級**

### **高優先級（建議實現）：**
1. ❌ **影片留言系統** - 可以不做（影片主要是消費型內容）
2. ✅ **影片觀看追蹤** - 建議實現（播放 > 50% 算一次觀看）

### **中優先級：**
3. ⚠️ **圖片 commentsCount 追蹤** - 可以加，但不影響熱門度
4. ⚠️ **討論度排序** - 未來可以考慮

### **低優先級：**
5. ⚠️ **留言點讚功能** - 增加複雜度，價值不高

---

## 🔍 **我的建議**

### **當前階段：**

**影片系統：**
- ✅ **不添加留言功能** - 保持簡單
- ✅ **專注於點讚和分享** - 主要互動方式
- ✅ **可選：添加觀看追蹤** - 反映真實觀看度

**圖片系統：**
- ✅ **保持當前留言系統** - 已經很完善
- ✅ **留言不影響熱門度** - 避免刷留言
- ✅ **留言區專注於討論** - 技術交流、心得分享

---

## 💡 **替代方案：引用到討論區**

如果用戶想深入討論影片：
- 可以使用「引用發帖」功能（但你已決定移除）
- 或者在討論區發帖並附上影片連結
- 這樣討論會集中在討論區，不會分散

---

## ✅ **最終建議**

### **留言系統：**
```
圖片：✅ 保持現有留言功能（不影響熱門度）
影片：❌ 暫不添加留言（簡化系統）
```

### **理由：**
1. 影片是消費型內容，討論價值較低
2. 技術討論主要發生在圖片區
3. 保持系統簡單，降低維護成本
4. 如果未來需求增加，再考慮添加

---

## 🎯 **總結**

**當前設計是合理的：**
- ✅ 圖片有留言（技術討論價值高）
- ✅ 影片沒有留言（消費型內容）
- ✅ 留言不影響熱門度（避免刷留言）
- ✅ 熱門度由點讚決定（明確的正向反饋）

**你覺得影片需要留言功能嗎？還是保持現狀就好？** 🤔

