# 分數更新策略說明

> **更新日期：** 2025-10-21  
> **核心原則：** 互動決定排名，編輯不影響分數

---

## 🎯 **核心設計理念**

### **popScore（熱門度分數）應該反映什麼？**

✅ **應該反映：**
- 真實的用戶互動（點讚、點擊、觀看）
- 內容的受歡迎程度
- 社群的認可度

❌ **不應該反映：**
- 元數據是否完整
- 作者是否修改過內容
- 描述是否有錯字

---

## 📊 **兩種分數的定位**

### **1. popScore（熱門度分數）**

**用途：** 決定內容在「熱門」排序中的位置

**更新時機：**
- ✅ 上傳時初始化（包含新內容加成）
- ✅ 點讚時更新（±8 分）
- ✅ 點擊時更新（+1 分）
- ✅ 觀看時更新（+0.5 分，如果實現）
- ❌ **編輯時不更新**

**公式：**
```
popScore = (clicks × 1.0) + (likes × 8.0) + (views × 0.5) + (completeness × 0.05) + boost
```

**注意：** `completeness` 只佔 0.05 權重，影響很小

---

### **2. completenessScore（完整度分數）**

**用途：** 
- 反映元數據的完整程度
- 用於「作品展示 vs 創作參考」篩選
- 圖片：≥50% 才顯示元數據
- 影片：有任何元數據就顯示

**更新時機：**
- ✅ 上傳時計算
- ✅ 編輯時重新計算
- ❌ 點讚時不更新
- ❌ 點擊時不更新

---

## 💡 **為什麼編輯不重算 popScore？**

### **情境 1：修改錯字**

**問題：** 
```
上傳時標題打錯：「美麗的風影」（應該是「風景」）
幾天後發現錯誤，想修改
```

**如果重算 popScore：**
- ❌ 修改後可能失去新內容加成（超過10小時）
- ❌ 即使只改一個字，排名可能大幅下降
- ❌ 用戶不敢修改，怕影響曝光

**不重算 popScore：**
- ✅ 修改錯字不影響排名
- ✅ 用戶可以放心完善內容
- ✅ 排名由互動決定，不是元數據

---

### **情境 2：補充元數據**

**問題：**
```
上傳時忘記填寫完整的 prompt
一週後想補充詳細的生成參數
```

**如果重算 popScore：**
- ❌ completeness 從 30 提升到 80
- ❌ popScore 增加 (80-30) × 0.05 = 2.5 分
- ❌ 可能導致「填元數據刷分」的行為

**不重算 popScore：**
- ✅ completeness 更新，但 popScore 不變
- ✅ 避免刷分行為
- ✅ 元數據的價值在於「參考性」，不是「分數」

---

### **情境 3：大量修改描述**

**問題：**
```
上傳時描述很簡單：「好看」
後來想寫詳細的創作心得（500字）
```

**如果重算 popScore：**
- ❌ completeness 可能提升
- ❌ 但這是**補充信息**，不是**新互動**
- ❌ 不應該因為寫得詳細就排名提升

**不重算 popScore：**
- ✅ 詳細描述提升「質量」（completeness）
- ✅ 但排名由「受歡迎度」決定
- ✅ 如果內容好，自然會獲得點讚（真實提升）

---

## 🎯 **正確的分數提升方式**

### **❌ 錯誤的方式（如果編輯會重算）：**
```
1. 上傳內容（隨便填）
2. 獲得一些點讚
3. 幾天後補完元數據 → popScore 突然提升
4. 排名提升（但不是因為新互動）
```

### **✅ 正確的方式（現在的邏輯）：**
```
1. 上傳內容（盡量填完整）
   → completeness 高 → 初始 popScore 略高
   
2. 獲得點讚和點擊
   → popScore 真實提升 → 排名提升
   
3. 幾天後修改錯字或補充描述
   → completeness 更新
   → popScore 不變（排名由互動決定）
   
4. 繼續獲得互動
   → popScore 持續提升
```

---

## 📊 **completeness 對 popScore 的影響**

### **實際計算：**

**completeness 從 0 → 100：**
```
popScore 增加 = 100 × 0.05 = 5 分
```

**相當於：**
- 5 次點擊（5 × 1.0 = 5）
- 或 10 次觀看（10 × 0.5 = 5）
- 或 不到 1 個讚（1 × 8.0 = 8）

**結論：** completeness 的影響很小，主要還是互動數據

---

## ✅ **最終策略**

### **popScore 更新時機（僅限真實互動）：**

| 操作 | 更新 popScore | 原因 |
|------|-------------|------|
| 🆕 上傳 | ✅ | 初始分數（包含新內容加成） |
| 🖱️ 點擊 | ✅ | 用戶互動 |
| ❤️ 點讚 | ✅ | 用戶互動 |
| 👁️ 觀看 | ✅ | 用戶互動（未實現） |
| ✏️ 編輯 | ❌ | 不是互動，只是完善內容 |
| 🔧 管理員修復 | ✅ | 修復數據不一致 |

---

### **completeness 更新時機：**

| 操作 | 更新 completeness | 原因 |
|------|-----------------|------|
| 🆕 上傳 | ✅ | 計算元數據完整度 |
| ✏️ 編輯 | ✅ | 元數據可能改變 |
| 🖱️ 點擊 | ❌ | 不影響元數據 |
| ❤️ 點讚 | ❌ | 不影響元數據 |

---

## 🎊 **用戶友好的設計**

### **對創作者：**
- ✅ 可以放心修改錯字
- ✅ 可以補充詳細描述
- ✅ 可以完善元數據
- ✅ **不用擔心影響排名**

### **對觀眾：**
- ✅ 熱門內容由真實互動決定
- ✅ 不會因為「刷元數據」而排名虛高
- ✅ 排序真實反映社群喜好

### **對系統：**
- ✅ 鼓勵完善元數據（提升 completeness）
- ✅ 但不獎勵「後補元數據」（popScore 不變）
- ✅ 真實互動才能提升排名

---

## 🚀 **總結**

**核心原則：**
```
互動 = 熱門度 ✅
編輯 = 質量提升 ✅
但編輯 ≠ 熱門度提升 ❌
```

**實現效果：**
- ✅ 用戶可以安心修改內容
- ✅ 排名由社群互動決定
- ✅ 系統公平且用戶友好

---

**這是一個更合理、更用戶友好的設計！** 👍✨

**感謝你的反饋，讓系統變得更好！** 🎉


